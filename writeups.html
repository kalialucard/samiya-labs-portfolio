<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Write-ups</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/custom.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace']
                    },
                    colors: {
                        slate: {
                            900: '#0f172a'
                        },
                        accent: {
                            green: '#22c55e',
                            cyan: '#0ea5e9'
                        }
                    }
                }
            }
        }
    </script>
</head>

<body
    class="antialiased selection:bg-accent-green selection:text-slate-900 flex flex-col min-h-screen bg-slate-950 text-slate-200">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-transparent/90 backdrop-blur-md border-b border-slate-700">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <!-- Logo -->
            <a href="index.html" class="logo-container group flex items-center gap-3">
                <img src="images/logo.png" alt="Logo"
                    class="h-10 w-auto group-hover:scale-105 transition-transform duration-300">
            </a>

            <div class="hidden lg:flex items-center gap-8 font-mono text-sm">
                <a href="index.html" class="text-slate-400 hover:text-accent-cyan transition-colors">Home</a>
                <a href="about.html" class="text-slate-400 hover:text-accent-cyan transition-colors">About</a>
                <a href="devhub.html" class="text-slate-400 hover:text-accent-cyan transition-colors">DevHub</a>
                <div class="relative group">
                    <a href="projects.html"
                        class="text-slate-400 hover:text-white flex items-center gap-1 transition-colors">
                        Projects <i class="fa-solid fa-chevron-down text-xs opacity-50"></i>
                    </a>
                                                                                <div class="absolute left-1/2 -translate-x-1/2 top-full mt-4 w-max max-w-[90vw] bg-slate-900/95 backdrop-blur-xl border border-slate-700/50 rounded-lg shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 p-2 z-50">
                        <a href="projects/network-system-protection.html" class="block px-4 py-2 rounded text-slate-400 hover:bg-slate-800 hover:text-accent-green text-[10px] uppercase tracking-wider font-mono"><i class="fa-solid fa-shield-halved w-6 text-accent-green"></i> Network & System Protection</a>
                        <a href="projects/application-web-security.html" class="block px-4 py-2 rounded text-slate-400 hover:bg-slate-800 hover:text-accent-green text-[10px] uppercase tracking-wider font-mono"><i class="fa-solid fa-globe w-6 text-accent-green"></i> Application & Web Security</a>
                        <a href="projects/ethical-hacking-vulnerability-testing.html" class="block px-4 py-2 rounded text-slate-400 hover:bg-slate-800 hover:text-accent-green text-[10px] uppercase tracking-wider font-mono"><i class="fa-solid fa-mask w-6 text-accent-green"></i> Ethical Hacking & Vulnerability Testing</a>
                        <a href="projects/threat-monitoring-incident-response.html" class="block px-4 py-2 rounded text-slate-400 hover:bg-slate-800 hover:text-accent-green text-[10px] uppercase tracking-wider font-mono"><i class="fa-solid fa-clock-rotate-left w-6 text-accent-green"></i> Threat Monitoring & Incident Response</a>
                        <a href="projects/cybersecurity-investigation-analysis.html" class="block px-4 py-2 rounded text-slate-400 hover:bg-slate-800 hover:text-accent-green text-[10px] uppercase tracking-wider font-mono"><i class="fa-solid fa-magnifying-glass w-6 text-accent-green"></i> Cybersecurity Investigation & Analysis</a>
                        <a href="projects/security-policies-risk-management.html" class="block px-4 py-2 rounded text-slate-400 hover:bg-slate-800 hover:text-accent-green text-[10px] uppercase tracking-wider font-mono"><i class="fa-solid fa-file-contract w-6 text-accent-green"></i> Security Policies & Risk Management</a>
                        <a href="projects/cloud-secure-development-operations.html" class="block px-4 py-2 rounded text-slate-400 hover:bg-slate-800 hover:text-accent-green text-[10px] uppercase tracking-wider font-mono"><i class="fa-solid fa-cloud w-6 text-accent-green"></i> Cloud & Secure Development Operations</a>
                    </div>
                </div>
                <a href="writeups.html" class="text-white hover:text-accent-cyan transition-colors">Write-ups</a>
                <a href="certificates.html" class="text-slate-400 hover:text-accent-cyan transition-colors">Certs</a>
                <a href="contact.html" class="text-slate-400 hover:text-accent-cyan transition-colors">Contact</a>
            </div>

            <button id="mobile-menu-btn" class="lg:hidden text-slate-400 hover:text-white p-2"><i
                    class="fa-solid fa-bars text-xl"></i></button>
        </div>
        <div id="mobile-menu" class="hidden lg:hidden bg-slate-900 border-b border-slate-700 shadow-2xl">
            <div class="flex flex-col p-4 space-y-1">
                <a href="index.html"
                    class="block px-4 py-3 rounded hover:bg-slate-800 text-slate-400 font-mono border-l-2 border-transparent">Home</a>
                <a href="about.html"
                    class="block px-4 py-3 rounded hover:bg-slate-800 text-slate-400 font-mono border-l-2 border-transparent">About</a>
                <a href="devhub.html"
                    class="block px-4 py-3 rounded hover:bg-slate-800 text-slate-400 font-mono border-l-2 border-transparent">DevHub</a>
                <div
                    class="py-2 px-4 text-xs font-bold text-slate-600 uppercase tracking-widest mt-2 border-l-2 border-slate-800">
                    Projects</div>
                <a href="projects/network-system-protection.html" class="block px-4 py-2 text-slate-400 hover:text-accent-green pl-6 text-[10px] font-mono uppercase tracking-wider"><i class="fa-solid fa-shield-halved w-6 text-accent-green"></i> Network & System Protection</a>
                <a href="projects/application-web-security.html" class="block px-4 py-2 text-slate-400 hover:text-accent-green pl-6 text-[10px] font-mono uppercase tracking-wider"><i class="fa-solid fa-globe w-6 text-accent-green"></i> Application & Web Security</a>
                <a href="projects/ethical-hacking-vulnerability-testing.html" class="block px-4 py-2 text-slate-400 hover:text-accent-green pl-6 text-[10px] font-mono uppercase tracking-wider"><i class="fa-solid fa-mask w-6 text-accent-green"></i> Ethical Hacking & Vulnerability Testing</a>
                <a href="projects/threat-monitoring-incident-response.html" class="block px-4 py-2 text-slate-400 hover:text-accent-green pl-6 text-[10px] font-mono uppercase tracking-wider"><i class="fa-solid fa-clock-rotate-left w-6 text-accent-green"></i> Threat Monitoring & Incident Response</a>
                <a href="projects/cybersecurity-investigation-analysis.html" class="block px-4 py-2 text-slate-400 hover:text-accent-green pl-6 text-[10px] font-mono uppercase tracking-wider"><i class="fa-solid fa-magnifying-glass w-6 text-accent-green"></i> Cybersecurity Investigation & Analysis</a>
                <a href="projects/security-policies-risk-management.html" class="block px-4 py-2 text-slate-400 hover:text-accent-green pl-6 text-[10px] font-mono uppercase tracking-wider"><i class="fa-solid fa-file-contract w-6 text-accent-green"></i> Security Policies & Risk Management</a>
                <a href="projects/cloud-secure-development-operations.html" class="block px-4 py-2 text-slate-400 hover:text-accent-green pl-6 text-[10px] font-mono uppercase tracking-wider"><i class="fa-solid fa-cloud w-6 text-accent-green"></i> Cloud & Secure Development Operations</a>
                <div class="h-px bg-slate-800 my-2"></div>
                <a href="writeups.html"
                    class="block px-4 py-3 rounded hover:bg-slate-800 text-white font-mono border-l-2 border-accent-cyan">Write-ups</a>
                <a href="certificates.html"
                    class="block px-4 py-3 rounded hover:bg-slate-800 text-slate-400 font-mono border-l-2 border-transparent">Certs</a>
                <a href="contact.html"
                    class="block px-4 py-3 rounded hover:bg-slate-800 text-slate-400 font-mono border-l-2 border-transparent">Contact</a>
            </div>
        </div>
    </nav>

    <!-- GALLERY VIEW -->
    <div id="gallery-view" class="flex-grow">
        <!-- Hero Section -->
        <header class="relative py-20 bg-transparent border-b border-slate-800 overflow-hidden">
            <div
                class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMSIgY3k9IjEiIHI9IjEiIGZpbGw9InJnYmEoOTQsIDE2MywgMjIxLCAwLjA1KSIvPjwvc3ZnPg==')] [mask-image:linear-gradient(to_bottom,white,transparent)]">
            </div>
            <div class="max-w-7xl mx-auto px-6 relative z-10 text-center">
                <div
                    class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-accent-cyan/10 border border-accent-cyan/20 text-[10px] font-mono text-accent-cyan uppercase tracking-[0.2em] mb-8">
                    Database Archive
                </div>
                <h1
                    class="text-4xl md:text-5xl font-mono font-bold text-white mb-6 uppercase tracking-tighter glitch-hover">
                    Security <span class="text-accent-cyan">Writeups</span>
                </h1>
                <p class="text-slate-400 max-w-2xl mx-auto text-lg mb-10 leading-relaxed">
                    Detailed documentation of CTF challenges, vulnerability research, and security experiments.
                </p>

                <!-- Search & Filter Controls -->
                <div class="max-w-3xl mx-auto space-y-6">
                    <!-- Search -->
                    <div class="relative">
                        <i class="fa-solid fa-search absolute left-4 top-3.5 text-slate-500"></i>
                        <input type="text" id="search-input" placeholder="Search writeups by title, tag, or keyword..."
                            class="w-full bg-slate-800/80 backdrop-blur border border-slate-700 rounded-full py-3 pl-12 pr-6 text-slate-200 focus:border-accent-cyan focus:outline-none focus:ring-1 focus:ring-accent-cyan transition-all shadow-lg">
                    </div>

                    <!-- Category Chips -->
                    <div class="flex flex-wrap justify-center gap-3" id="category-filters">
                        <button
                            class="filter-btn active px-4 py-1.5 rounded-full text-sm font-mono border border-accent-cyan bg-accent-cyan/10 text-accent-cyan transition-all"
                            data-filter="all">All</button>
                        <button
                            class="filter-btn px-4 py-1.5 rounded-full text-sm font-mono border border-slate-700 text-slate-400 hover:text-white hover:border-slate-500 transition-all"
                            data-filter="tryhackme">TryHackMe</button>
                        <button
                            class="filter-btn px-4 py-1.5 rounded-full text-sm font-mono border border-slate-700 text-slate-400 hover:text-white hover:border-slate-500 transition-all"
                            data-filter="hackthebox">HackTheBox</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Cards Grid -->
        <main class="max-w-7xl mx-auto px-6 py-16">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="writeups-grid">

                <!-- HACKTHEBOX ITEMS -->
                <!-- AUTO_CARDS_START:hackthebox -->
                <!-- AUTO_CARDS_END:hackthebox -->

                <!-- TRYHACKME ITEMS -->
                <!-- AUTO_CARDS_START:tryhackme -->

            <a href="posts/vulnnet-internal.html" class="devhub-card group bg-slate-900 border border-slate-800 rounded-xl overflow-hidden hover:border-red-500/50 hover:shadow-xl hover:shadow-red-500/10 transition-all duration-300 block" data-category="tryhackme" data-tags="tryhackme">
                <div class="h-2 bg-red-500"></div>
                <div class="p-6">
                    <div class="flex justify-between items-start mb-4">
                        <span class="px-2 py-1 rounded text-xs font-bold bg-red-500/10 text-red-500 border border-red-500/20 uppercase">tryhackme</span>
                        <i class="fa-solid fa-arrow-right -rotate-45 text-slate-600 group-hover:text-red-500 transition-colors"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-2 group-hover:text-red-500 transition-colors">VulnNet-Internal</h3>
                    <p class="text-slate-400 text-sm line-clamp-2">Technical documentation and research.</p>
                </div>
            </a>
<!-- AUTO_CARDS_END:tryhackme -->

            </div>
        </main>
    </div>

    <!-- READER VIEW (Hidden by default) -->
    <div id="reader-view" class="hidden min-h-screen">
        <!-- Sticky Reader Header -->
        <nav
            class="sticky top-[73px] z-40 bg-transparent/95 backdrop-blur border-b border-slate-700 py-3 px-6 shadow-lg">
            <div class="max-w-5xl mx-auto flex items-center justify-between">
                <button id="back-to-gallery"
                    class="text-slate-400 hover:text-white flex items-center gap-2 group transition-colors">
                    <i class="fa-solid fa-arrow-left group-hover:-translate-x-1 transition-transform"></i>
                    <span class="font-mono text-sm uppercase tracking-wide">Back to Writeups</span>
                </button>
                <div id="reader-title"
                    class="text-sm font-bold text-white truncate max-w-[200px] md:max-w-md hidden md:block"></div>
                <div class="w-8"></div> <!-- Spacer for balance -->
            </div>
        </nav>

        <!-- Content Container -->
        <div id="reader-content" class="max-w-5xl mx-auto px-6 py-12">
            <!-- Loading State -->
            <div id="reader-loader" class="flex flex-col items-center justify-center py-20 text-slate-500">
                <i class="fa-solid fa-circle-notch fa-spin text-4xl text-accent-cyan mb-4"></i>
                <p>Loading writeup...</p>
            </div>
            <!-- Dynamic Content -->
            <div id="markdown-container" class="markdown-content"></div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="py-16 text-center border-t border-slate-800 bg-transparent mt-auto relative overflow-hidden">
        <div class="max-w-7xl mx-auto px-6 grid grid-cols-2 md:grid-cols-4 gap-4 mb-12">
            <div class="diag-card text-left">
                <span class="diag-label">Access_Level</span>
                <span class="diag-value">OMNI_READ_ONLY</span>
            </div>
            <div class="diag-card text-left">
                <span class="diag-label">Encryption</span>
                <span class="diag-value">AES-256-GCM<span class="diag-blink">_</span></span>
            </div>
            <div class="diag-card text-left">
                <span class="diag-label">Signal_Strength</span>
                <span class="diag-value text-blue-400">PURE_DATA_STREAM</span>
            </div>
            <div class="diag-card text-left">
                <span class="diag-label">System_Status</span>
                <span class="diag-value">STABLE_HARDENED</span>
            </div>
        </div>

        <div class="flex justify-center gap-6 mb-8">
            <a href="https://github.com/kalialucard" target="_blank"
                class="text-slate-400 hover:text-white transition-colors text-2xl" aria-label="GitHub"><i
                    class="fa-brands fa-github"></i></a>
            <a href="#" target="_blank" class="text-slate-400 hover:text-blue-400 transition-colors text-2xl"
                aria-label="LinkedIn"><i class="fa-brands fa-linkedin"></i></a>
            <a href="https://tryhackme.com/p/kalialucard" target="_blank"
                class="text-slate-400 hover:text-red-500 transition-colors text-2xl" aria-label="TryHackMe"
                title="TryHackMe"><i class="fa-solid fa-fire"></i></a>
            <a href="https://app.hackthebox.com/profile/2503089" target="_blank"
                class="text-slate-400 hover:text-green-400 transition-colors text-2xl" aria-label="HackTheBox"
                title="HackTheBox"><i class="fa-solid fa-cube"></i></a>
        </div>
        <p class="font-mono text-[10px] text-slate-600 uppercase tracking-widest text-center">Powered by kalialucard</p>
    </footer>

    <script src="js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const galleryView = document.getElementById('gallery-view');
            const readerView = document.getElementById('reader-view');
            const readerContent = document.getElementById('markdown-container');
            const readerTitle = document.getElementById('reader-title');
            const readerLoader = document.getElementById('reader-loader');
            const backBtn = document.getElementById('back-to-gallery');
            const searchInput = document.getElementById('search-input');
            const filterBtns = document.querySelectorAll('.filter-btn');
            const cards = document.querySelectorAll('.writeup-card, .devhub-card');

            // --- VIEW SWITCHING ---
            function showReader(url, title) {
                galleryView.classList.add('hidden');
                readerView.classList.remove('hidden');
                window.scrollTo(0, 0);

                readerTitle.textContent = title;
                loadWriteup(url);
            }

            function showGallery() {
                readerView.classList.add('hidden');
                galleryView.classList.remove('hidden');
                // Optional: restore scroll position if needed, roughly top for now
            }

            backBtn.addEventListener('click', showGallery);

            // --- LOADING WRITEUPS ---
            async function loadWriteup(url) {
                readerContent.innerHTML = '';
                readerLoader.classList.remove('hidden');

                try {
                    const response = await fetch(url);
                    if (!response.ok) throw new Error('Failed to load content');

                    const text = await response.text();
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(text, 'text/html');

                    // Extract content
                    let content = doc.querySelector('.markdown-content') || doc.querySelector('.content-container') || doc.body;

                    // Rewrite image/link paths
                    const images = content.querySelectorAll('img');
                    images.forEach(img => {
                        const src = img.getAttribute('src');
                        if (src && !src.startsWith('http') && !src.startsWith('/') && !src.startsWith('data:')) {
                            img.setAttribute('src', 'posts/' + src);
                        }
                    });

                    const anchors = content.querySelectorAll('a');
                    anchors.forEach(a => {
                        const href = a.getAttribute('href');
                        if (href && !href.startsWith('http') && !href.startsWith('/') && !href.startsWith('#')) {
                            a.setAttribute('href', 'posts/' + href);
                        }
                    });

                    readerContent.innerHTML = content.innerHTML;
                } catch (err) {
                    readerContent.innerHTML = `<div class="text-center py-20 text-red-400 font-mono">
                        <i class="fa-solid fa-triangle-exclamation text-4xl mb-4"></i><br>
                        Error loading writeup.<br>
                        <span class="text-sm text-slate-500">Note: Local file:// access requires deployment (e.g. GitHub Pages)</span>
                    </div>`;
                    console.error(err);
                } finally {
                    readerLoader.classList.add('hidden');
                }
            }

            // --- CARD CLICKS ---
            cards.forEach(card => {
                card.addEventListener('click', () => {
                    const url = card.dataset.url;
                    const title = card.querySelector('h3').innerText;
                    showReader(url, title);
                });
            });

            // --- FILTERING ---
            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Active state
                    filterBtns.forEach(b => {
                        b.classList.remove('active', 'bg-accent-cyan/10', 'text-accent-cyan', 'border-accent-cyan');
                        b.classList.add('text-slate-400', 'border-slate-700');
                    });
                    btn.classList.add('active', 'bg-accent-cyan/10', 'text-accent-cyan', 'border-accent-cyan');
                    btn.classList.remove('text-slate-400', 'border-slate-700');

                    const filter = btn.dataset.filter;

                    cards.forEach(card => {
                        if (filter === 'all' || card.dataset.category === filter) {
                            card.style.display = 'block';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                });
            });

            // --- SEARCH ---
            searchInput.addEventListener('input', (e) => {
                const term = e.target.value.toLowerCase();
                cards.forEach(card => {
                    const title = card.querySelector('h3').innerText.toLowerCase();
                    const tags = card.dataset.tags ? card.dataset.tags.toLowerCase() : '';
                    if (title.includes(term) || tags.includes(term)) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });
    </script>
</body>

</html>